.products {
  @include container;
  @include spacing;

  position: relative;

  @media (min-width: $screen-large) {
    &::after {
      background-color: $color-light;
      content: '';
      grid-column: 1/-1;
      grid-row: 2/3;
      height: 20%;
      position: absolute;
      top: 7.5%;
      width: 100%;
      z-index: $z-index-lowest;
    }
  }
}

.products__headline {
  grid-column: 2/8;
  text-align: center;
}

.products__wrapper {
  display: grid;
  gap: $spacing-25 $spacing-0;
  grid-column: 2/8;
  grid-template-columns: 1fr;
  grid-template-rows: auto;

  @media (min-width: $screen-large) {
    > li:nth-of-type(2) .products__image {
      clip-path: url('#clip-path-full');
    }
  }

  @media (min-width: $screen-large) {
    gap: $spacing-0 $spacing-60;
    grid-template-columns: 1fr 1fr 1fr;

    > li:nth-of-type(2) {
      padding-top: $spacing-40;
      position: relative;

      &::before {
        background-color: $color-red;
        content: '';
        height: 1.5px;
        left: $spacing-0;
        position: absolute;
        right: $spacing-0;
        top: $spacing-0;
        width: 100%;
      }
    }
  }
}

.products__image {
  height: 100%;
  margin-bottom: $spacing-15;
  max-height: $spacing-240;
  object-fit: cover;
  width: 100%;

  @media (min-width: $screen-small) {
    max-height: $spacing-384;
  }

  @media (min-width: $screen-large) {
    margin-bottom: $spacing-25;
  }

  @media (min-width: $screen-larger) {
    max-height: $max-width-450;
  }
}

.products__list-input {
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(100%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

.products__list-item {
  border: 1px solid $color-red;
  cursor: pointer;
  margin-bottom: $spacing-15;
  padding: $spacing-10 $spacing-15;
  width: 100%;

  @media (min-width: $screen-large) {
    border: $spacing-0;
    margin-bottom: $spacing-40;
    padding: $spacing-0;
  }
}

.products__list-label {
  @include font-montserrat;

  color: $color-red;
  display: block;
  font-size: $font-size-small;
  position: relative;
  white-space: nowrap;
  width: 100%;

  &::after {
    background-image: url('/src/images/arrow-down.svg');
    background-repeat: no-repeat;
    content: '';
    height: $spacing-10;
    position: absolute;
    right: $spacing-0;
    top: 40%;
    transform: rotate(180deg);
    width: $spacing-20;
  }

  @media (min-width: $screen-large) {
    width: max-content;

    &::after {
      display: none;
    }
  }
}

.products__sublist {
  margin-top: $spacing-20;
}

.products__sublist-item {
  margin-bottom: $spacing-15;
}

.products__sublist-item:last-of-type {
  margin-bottom: $spacing-0;
}

.products__sublist-sub {
  margin: $spacing-15 $spacing-0 $spacing-0 $spacing-20;

  > * {
    margin-bottom: $spacing-15;
  }

  > *:last-of-type {
    margin-bottom: $spacing-0;
  }
}

#products-list-item1-open:not(:checked),
#products-list-item2-open:not(:checked),
#products-list-item3-open:not(:checked),
#products-list-item4-open:not(:checked),
#products-list-item5-open:not(:checked),
#products-list-item6-open:not(:checked),
#products-list-item7-open:not(:checked) {
  ~ .products__sublist {
    display: none;
  }

  ~ .line .products__list-label::after {
    transform: rotate(0deg);
  }

  @media (min-width: $screen-large) {
    ~ .products__sublist {
      display: block;
    }
  }
}
