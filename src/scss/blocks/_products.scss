.products {
  position: relative;

  @media (min-width: $screen-large) {
    &::after {
      content: '';
      background-color: $color-light;
      position: absolute;
      width: 100%;
      height: 20%;
      grid-column: 1/-1;
      grid-row: 2/3;
      z-index: $z-index-lowest;
      top: 7.5%;
    }
  }
}

.products__wrapper {
  grid-column: 2/8;
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto;
  gap: $spacing-25 0;

  @media (min-width: $screen-larger) {
    > li:nth-of-type(2) {
      .products__image {
        clip-path: url(#clip-path-full);
      }
    }
  }

  @media (min-width: $screen-large) {
    grid-template-columns: 1fr 1fr 1fr;
    gap: 0 $spacing-60;

    > li:nth-of-type(2) {
      padding-top: $spacing-40;
      position: relative;

      &::before {
        content: '';
        width: 100%;
        height: 1.5px;
        background-color: $color-red;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
      }
    }
  }
}

.products__image {
  width: 100%;
  height: 100%;
  max-height: $spacing-240;
  object-fit: cover;
  margin-bottom: $spacing-15;

  @media (min-width: $screen-small) {
    max-height: $spacing-384;
  }

  @media (min-width: $screen-large) {
    margin-bottom: $spacing-25;
  }

  @media (min-width: $screen-larger) {
    max-height: $max-width-448;
  }
}

.products__list-input {
  display: none;
}

.products__list-item {
  width: 100%;
  border: 1px solid $color-red;
  padding: $spacing-10 $spacing-15;
  margin-bottom: $spacing-15;

  @media (min-width: $screen-large) {
    border: none;
    padding: 0;
    margin-bottom: $spacing-40;
  }
}

.products__list-label {
  display: block;
  font-size: $font-size-small;
  position: relative;
  color: $color-red;
  white-space: nowrap;
  width: 100%;

  @include font-montserrat;

  &::after {
    content: '';
    background-image: url('/src/images/arrow-down.svg');
    background-repeat: no-repeat;
    width: $spacing-20;
    height: $spacing-10;
    position: absolute;
    top: 40%;
    right: 0;
    transform: rotate(180deg);
  }

  @media (min-width: $screen-large) {
    width: max-content;

    &::after {
      display: none;
    }
  }
}

.products__sublist {
  margin-top: $spacing-20;
}

.products__sublist-item {
  margin-bottom: $spacing-15;
}

.products__sublist-item:last-of-type {
  margin-bottom: $spacing-0;
}

.products__sublist-sub {
  margin: $spacing-15 0 0 $spacing-20;

  > * {
    margin-bottom: $spacing-15;
  }

  > *:last-of-type {
    margin-bottom: 0;
  }
}

#products-list-item1-open:not(:checked),
#products-list-item2-open:not(:checked),
#products-list-item3-open:not(:checked),
#products-list-item4-open:not(:checked),
#products-list-item5-open:not(:checked),
#products-list-item6-open:not(:checked),
#products-list-item7-open:not(:checked) {
  ~ .products__sublist {
    display: none;
  }

  ~ .line .products__list-label {
    &::after {
      transform: rotate(0deg);
    }
  }

  @media (min-width: $screen-large) {
    ~ .products__sublist {
      display: block;
    }
  }
}
